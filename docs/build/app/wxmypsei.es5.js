/*! Built with http://stenciljs.com */
var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};App.loadBundle("wxmypsei",["exports","./chunk4.js"],function(e,t){var n=window.App.h,r=function(){function e(){}return e.prototype.componentDidLoad=function(){var e=this;window.addEventListener("swUpdate",function(){e.toastCtrl.create({message:"New version available",showCloseButton:!0,closeButtonText:"Reload"}).then(function(e){e.present()})})},e.prototype.reload=function(){window.location.reload()},e.prototype.render=function(){return n("ion-app",null,n("main",null,n("ion-router",{useHash:!1},n("ion-route",{url:"/",component:"app-play"}),n("ion-route",{url:"/match/:matchId",component:"app-match"}),n("ion-route",{url:"/profile/:name",component:"app-profile"}),n("ion-nav",null))))},Object.defineProperty(e,"is",{get:function(){return"my-app"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{toastCtrl:{connect:"ion-toast-controller"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}(),i=function(){function e(){this.isDevice=!1,this.deviceHacks=!1}return e.prototype.componentWillLoad=function(){this.isDevice=this.config.getBoolean("isDevice",!1),this.deviceHacks=this.config.getBoolean("deviceHacks",!1)},e.prototype.hostData=function(){var e,t=this.config.get("mode"),n=this.config.getBoolean("hoverCSS",!1);return{class:(e={},e[t]=!0,e["enable-hover"]=n,e)}},e.prototype.render=function(){return[this.deviceHacks&&n("ion-input-shims",null),n("ion-tap-click",null),this.isDevice&&n("ion-status-tap",null),n("slot",null)]},Object.defineProperty(e,"is",{get:function(){return"ion-app"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"host",{get:function(){return{theme:"app"}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{config:{context:"config"},el:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%;border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}input,label,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}[tappable],[tappable] div,[tappable] ion-icon,[tappable] ion-label,[tappable] span,a,a div,a ion-icon,a ion-label,a span,button,button div,button ion-icon,button ion-label,button span,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=checkbox],input[type=radio]{padding:0;box-sizing:border-box}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.hide,[hidden],template{display:none!important}.sticky{position:sticky;top:0}.click-block{display:none}.click-block-enabled{left:0;right:0;top:0;bottom:0;transform:translate3d(0,-100%,0) translateY(1px);position:absolute;z-index:99999;display:block;opacity:0;contain:strict}.click-block-active{transform:translate3d(0,0,0)}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;text-size-adjust:100%}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;overflow:hidden;width:100%;max-width:100%;height:100%;max-height:100%;text-rendering:optimizeLegibility;-webkit-user-drag:none;-ms-content-zooming:none;touch-action:manipulation;word-wrap:break-word;overscroll-behavior-y:contain;text-size-adjust:none;user-select:none}a{background-color:transparent}.enable-hover a:not(.button):hover{opacity:.7}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:26px}h2{margin-top:18px;font-size:24px}h3{font-size:22px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-page,ion-app,ion-nav,ion-router-outlet,ion-tab,ion-tabs{left:0;right:0;top:0;bottom:0;position:absolute;z-index:0;overflow:hidden;contain:layout size style}.ion-page,ion-app{display:flex;flex-direction:column;justify-content:space-between}.hide-page{opacity:0}.nav-decor{display:none}.show-decor>.nav-decor{left:0;right:0;top:0;bottom:0;position:absolute;z-index:0;display:block;background:#000;pointer-events:none}[app-viewport],[nav-viewport],[overlay-portal],[tab-portal],ion-action-sheet-controller,ion-alert-controller,ion-animation-controller,ion-loading-controller,ion-menu-controller,ion-modal-controller,ion-nav-controller,ion-picker-controller,ion-route,ion-route-controller,ion-toast-controller{display:none}[text-center]{text-align:center!important}[text-justify]{text-align:justify!important}[text-start]{text-align:left;text-align:start!important}[text-end]{text-align:right;text-align:end!important}[text-left]{text-align:left!important}[text-right]{text-align:right!important}[text-nowrap]{white-space:nowrap!important}[text-wrap]{white-space:normal!important}\@media (min-width:576px){[text-sm-center]{text-align:center!important}[text-sm-justify]{text-align:justify!important}[text-sm-start]{text-align:left;text-align:start!important}[text-sm-end]{text-align:right;text-align:end!important}[text-sm-left]{text-align:left!important}[text-sm-right]{text-align:right!important}[text-sm-nowrap]{white-space:nowrap!important}[text-sm-wrap]{white-space:normal!important}}\@media (min-width:768px){[text-md-center]{text-align:center!important}[text-md-justify]{text-align:justify!important}[text-md-start]{text-align:left;text-align:start!important}[text-md-end]{text-align:right;text-align:end!important}[text-md-left]{text-align:left!important}[text-md-right]{text-align:right!important}[text-md-nowrap]{white-space:nowrap!important}[text-md-wrap]{white-space:normal!important}}\@media (min-width:992px){[text-lg-center]{text-align:center!important}[text-lg-justify]{text-align:justify!important}[text-lg-start]{text-align:left;text-align:start!important}[text-lg-end]{text-align:right;text-align:end!important}[text-lg-left]{text-align:left!important}[text-lg-right]{text-align:right!important}[text-lg-nowrap]{white-space:nowrap!important}[text-lg-wrap]{white-space:normal!important}}\@media (min-width:1200px){[text-xl-center]{text-align:center!important}[text-xl-justify]{text-align:justify!important}[text-xl-start]{text-align:left;text-align:start!important}[text-xl-end]{text-align:right;text-align:end!important}[text-xl-left]{text-align:left!important}[text-xl-right]{text-align:right!important}[text-xl-nowrap]{white-space:nowrap!important}[text-xl-wrap]{white-space:normal!important}}[text-uppercase]{text-transform:uppercase!important}[text-lowercase]{text-transform:lowercase!important}[text-capitalize]{text-transform:capitalize!important}\@media (min-width:576px){[text-sm-uppercase]{text-transform:uppercase!important}[text-sm-lowercase]{text-transform:lowercase!important}[text-sm-capitalize]{text-transform:capitalize!important}}\@media (min-width:768px){[text-md-uppercase]{text-transform:uppercase!important}[text-md-lowercase]{text-transform:lowercase!important}[text-md-capitalize]{text-transform:capitalize!important}}\@media (min-width:992px){[text-lg-uppercase]{text-transform:uppercase!important}[text-lg-lowercase]{text-transform:lowercase!important}[text-lg-capitalize]{text-transform:capitalize!important}}\@media (min-width:1200px){[text-xl-uppercase]{text-transform:uppercase!important}[text-xl-lowercase]{text-transform:lowercase!important}[text-xl-capitalize]{text-transform:capitalize!important}}[float-left]{float:left!important}[float-right]{float:right!important}[float-start]{float:left!important}[float-end]{float:right!important}\@media (min-width:576px){[float-sm-left]{float:left!important}[float-sm-right]{float:right!important}[float-sm-start]{float:left!important}[float-sm-end]{float:right!important}}\@media (min-width:768px){[float-md-left]{float:left!important}[float-md-right]{float:right!important}[float-md-start]{float:left!important}[float-md-end]{float:right!important}}\@media (min-width:992px){[float-lg-left]{float:left!important}[float-lg-right]{float:right!important}[float-lg-start]{float:left!important}[float-lg-end]{float:right!important}}\@media (min-width:1200px){[float-xl-left]{float:left!important}[float-xl-right]{float:right!important}[float-xl-start]{float:left!important}[float-xl-end]{float:right!important}}ion-app [no-padding],ion-app [no-padding] .scroll-inner{padding:0}ion-app [no-margin],ion-app [no-margin] ion-scroll{margin:0}.app-ios{font-family:-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",Roboto,sans-serif;font-size:14px;background-color:var(--ion-background-ios-color,var(--ion-background-color,#fff))}.app-ios ion-tabs ion-tabbar:not(.placement-top){padding-bottom:calc(constant(safe-area-inset-bottom) + 0);padding-bottom:calc(env(safe-area-inset-bottom) + 0);height:calc(50px + constant(safe-area-inset-bottom));height:calc(50px + env(safe-area-inset-bottom))}.app-ios ion-footer .toolbar:last-child{padding-bottom:calc(constant(safe-area-inset-bottom) + 4px);padding-bottom:calc(env(safe-area-inset-bottom) + 4px);min-height:calc(44px + constant(safe-area-inset-bottom));min-height:calc(44px + env(safe-area-inset-bottom))}.app-ios .ion-page>.toolbar.statusbar-padding:first-child,.app-ios .ion-page>ion-header>.toolbar.statusbar-padding:first-child,.app-ios ion-menu>.menu-inner>.toolbar.statusbar-padding:first-child,.app-ios ion-menu>.menu-inner>ion-header>.toolbar.statusbar-padding:first-child,.app-ios ion-tab ion-nav .ion-page>ion-header>.toolbar.statusbar-padding:first-child{padding-top:calc(20px + 4px);padding-top:calc(constant(safe-area-inset-top) + 4px);padding-top:calc(env(safe-area-inset-top) + 4px);min-height:calc(44px + 20px);min-height:calc(44px + constant(safe-area-inset-top));min-height:calc(44px + env(safe-area-inset-top))}.app-ios .ion-page>ion-content.statusbar-padding:first-child .scroll-content,.app-ios .ion-page>ion-header>ion-content.statusbar-padding:first-child .scroll-content,.app-ios ion-menu>.menu-inner>ion-content.statusbar-padding:first-child .scroll-content,.app-ios ion-menu>.menu-inner>ion-header>ion-content.statusbar-padding:first-child .scroll-content,.app-ios ion-tab ion-nav .ion-page>ion-header>ion-content.statusbar-padding:first-child .scroll-content{padding-top:20px;padding-top:calc(constant(safe-area-inset-top) + 0px);padding-top:calc(env(safe-area-inset-top) + 0px)}.app-ios .ion-page>ion-content.statusbar-padding:first-child[padding-top] .scroll-content,.app-ios .ion-page>ion-content.statusbar-padding:first-child[padding] .scroll-content,.app-ios .ion-page>ion-header>ion-content.statusbar-padding:first-child[padding-top] .scroll-content,.app-ios .ion-page>ion-header>ion-content.statusbar-padding:first-child[padding] .scroll-content,.app-ios ion-menu>.menu-inner>ion-content.statusbar-padding:first-child[padding-top] .scroll-content,.app-ios ion-menu>.menu-inner>ion-content.statusbar-padding:first-child[padding] .scroll-content,.app-ios ion-menu>.menu-inner>ion-header>ion-content.statusbar-padding:first-child[padding-top] .scroll-content,.app-ios ion-menu>.menu-inner>ion-header>ion-content.statusbar-padding:first-child[padding] .scroll-content,.app-ios ion-tab ion-nav .ion-page>ion-header>ion-content.statusbar-padding:first-child[padding-top] .scroll-content,.app-ios ion-tab ion-nav .ion-page>ion-header>ion-content.statusbar-padding:first-child[padding] .scroll-content{padding-top:calc(16px + 20px);padding-top:calc(constant(safe-area-inset-top) + 0px);padding-top:calc(env(safe-area-inset-top) + 0px)}.app-ios .ion-page>.toolbar.statusbar-padding:first-child ion-segment,.app-ios .ion-page>.toolbar.statusbar-padding:first-child ion-title,.app-ios .ion-page>ion-header>.toolbar.statusbar-padding:first-child ion-segment,.app-ios .ion-page>ion-header>.toolbar.statusbar-padding:first-child ion-title,.app-ios ion-menu>.menu-inner>.toolbar.statusbar-padding:first-child ion-segment,.app-ios ion-menu>.menu-inner>.toolbar.statusbar-padding:first-child ion-title,.app-ios ion-menu>.menu-inner>ion-header>.toolbar.statusbar-padding:first-child ion-segment,.app-ios ion-menu>.menu-inner>ion-header>.toolbar.statusbar-padding:first-child ion-title,.app-ios ion-tab ion-nav .ion-page>ion-header>.toolbar.statusbar-padding:first-child ion-segment,.app-ios ion-tab ion-nav .ion-page>ion-header>.toolbar.statusbar-padding:first-child ion-title{padding-top:20px;padding-top:calc(constant(safe-area-inset-top) + 0px);padding-top:calc(env(safe-area-inset-top) + 0px);height:calc(44px + 20px);height:calc(44px + constant(safe-area-inset-top));height:calc(44px + env(safe-area-inset-top));min-height:calc(44px + 20px);min-height:calc(44px + constant(safe-area-inset-top));min-height:calc(44px + env(safe-area-inset-top))}.app-ios .ion-page>ion-content.statusbar-padding:first-child ion-scroll,.app-ios .ion-page>ion-header>ion-content.statusbar-padding:first-child ion-scroll,.app-ios ion-menu>.menu-inner>ion-content.statusbar-padding:first-child ion-scroll,.app-ios ion-menu>.menu-inner>ion-header>ion-content.statusbar-padding:first-child ion-scroll,.app-ios ion-tab ion-nav .ion-page>ion-header>ion-content.statusbar-padding:first-child ion-scroll{padding-top:20px;padding-top:calc(constant(safe-area-inset-top) + 0px);padding-top:calc(env(safe-area-inset-top) + 0px)}a{color:var(--ion-color-ios-primary,var(--ion-color-primary,#3880ff))}.app-ios [padding],.app-ios [padding] .scroll-inner{padding:16px}.app-ios [padding-top],.app-ios [padding-top] .scroll-inner{padding-top:16px}.app-ios [padding-left],.app-ios [padding-left] .scroll-inner{padding-left:16px}.app-ios [padding-right],.app-ios [padding-right] .scroll-inner{padding-right:16px}.app-ios [padding-bottom],.app-ios [padding-bottom] .scroll-inner{padding-bottom:16px}.app-ios [padding-vertical],.app-ios [padding-vertical] .scroll-inner{padding-top:16px;padding-bottom:16px}.app-ios [padding-horizontal],.app-ios [padding-horizontal] .scroll-inner{padding-left:16px;padding-right:16px}.app-ios [margin],.app-ios [margin] .scroll-inner{margin:16px}.app-ios [margin-top],.app-ios [margin-top] .scroll-inner{margin-top:16px}.app-ios [margin-left],.app-ios [margin-left] .scroll-inner{margin-left:16px}.app-ios [margin-start],.app-ios [margin-start] .scroll-inner{margin-left:16px}.app-ios [margin-right],.app-ios [margin-right] .scroll-inner{margin-right:16px}.app-ios [margin-end],.app-ios [margin-end] .scroll-inner{margin-right:16px}.app-ios [margin-bottom],.app-ios [margin-bottom] .scroll-inner{margin-bottom:16px}.app-ios [margin-vertical],.app-ios [margin-vertical] .scroll-inner{margin-top:16px;margin-bottom:16px}.app-ios [margin-horizontal],.app-ios [margin-horizontal] .scroll-inner{margin-left:16px;margin-right:16px}"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"styleMode",{get:function(){return"ios"},enumerable:!0,configurable:!0}),e}(),o="$ionRelocated";function a(e,t,n,r){if(void 0===r&&(r=0),e[o]!==n){if(t.value,n){!function(e,t){var n,r,i=e.parentElement;if(e&&i){var o=e.offsetTop,a=e.offsetLeft,s=e.offsetWidth,u=e.offsetHeight,l=document.createElement("div"),c=l.style;(n=l.classList).add.apply(n,Array.from(e.classList)),l.classList.add("cloned-input"),l.setAttribute("aria-hidden","true"),c.pointerEvents="none",c.position="absolute",c.top=o+"px",c.left=a+"px",c.width=s+"px",c.height=u+"px";var d=document.createElement("input");(r=d.classList).add.apply(r,Array.from(t.classList)),d.value=t.value,d.type=t.type,d.placeholder=t.placeholder,d.tabIndex=-1,l.appendChild(d),i.appendChild(l),e.style.pointerEvents="none"}t.style.transform="scale(0)"}(e,t);var i="rtl"===document.dir?9999:-9999;t.style.transform="translate3d("+i+"px,"+r+"px,0)"}else!function(e,t){if(e&&e.parentElement){for(var n=e.parentElement.querySelectorAll(".cloned-input"),r=0;r<n.length;r++)n[r].remove();e.style.pointerEvents=""}t.style.transform="",t.style.opacity=""}(e,t);e[o]=n}}function s(e){return e===document.activeElement}var u=["INPUT","TEXTAREA","ION-INPUT","ION-TEXTAREA"],l=.3;function c(e,n,r,i){var o,u=function(e){o=t.pointerCoord(e),e.type},c=function(u){if(u.type,o){var c=t.pointerCoord(u);(function(e,t,n){if(t&&n){var r=t.x-n.x,i=t.y-n.y;return r*r+i*i>36}return!1})(0,o,c)||s(n)||(u.preventDefault(),u.stopPropagation(),function(e,t,n,r){var i=function(e,t,n){return t?function(e,t,n,r){var i=e.top,o=e.bottom,a=t.top+10,s=Math.min(t.bottom,r-n)/2-o,u=a-i,c=Math.round(s<0?-s:u>0?-u:0),d=Math.abs(c)/l;return{scrollAmount:c,scrollDuration:Math.min(400,Math.max(150,d)),scrollPadding:n,inputSafeY:4-(i-a)}}((e.closest("ion-item,[ion-item]")||e).getBoundingClientRect(),t.getBoundingClientRect(),n,window.innerHeight):{scrollAmount:0,scrollPadding:0,scrollDuration:0,inputSafeY:0}}(e,n,r);Math.abs(i.scrollAmount)<4?t.focus():(a(e,t,!0,i.inputSafeY),t.focus(),n.scrollByPoint(0,i.scrollAmount,i.scrollDuration,function(){a(e,t,!1,i.inputSafeY),t.focus()}))}(e,n,r,i))}};return e.addEventListener("touchstart",u,!0),e.addEventListener("touchend",c,!0),function(){e.removeEventListener("touchstart",u,!0),e.removeEventListener("touchend",c,!0)}}var d="$ionPaddingTimer";function h(e,t){if("INPUT"===e.tagName&&"ION-INPUT"!==e.parentElement.tagName){var n=e.closest(".scroll-inner");if(n){var r=n[d];r&&clearTimeout(r),t>0?n.style.paddingBottom=t+"px":n[d]=setTimeout(function(){n.style.paddingBottom=""},120)}}}var p=function(){function e(){this.didLoad=!1,this.hideCaret=!1,this.scrollAssist=!1,this.keyboardHeight=0,this.hideCaretMap=new WeakMap,this.scrollAssistMap=new WeakMap}return e.prototype.componentDidLoad=function(){this.keyboardHeight=this.config.getNumber("keyboardHeight",290),this.scrollAssist=this.config.getBoolean("scrollAssist",!0),this.hideCaret=this.config.getBoolean("hideCaretOnScroll",!0),this.config.getBoolean("inputBlurring",!0)&&function(){var e=!0,t=!1;document.addEventListener("ionScrollStart",function(){t=!0}),document.addEventListener("focusin",function(){e=!0},!0),document.addEventListener("touchend",function(n){if(t)t=!1;else{var r=document.activeElement;if(r&&-1!==u.indexOf(r.tagName)){var i=n.target;i!==r&&(u.indexOf(i.tagName)>=0||i.classList.contains("input-cover")||(e=!1,setTimeout(function(){e||r.blur()},50)))}}},!1)}(),this.config.getBoolean("scrollPadding",!0)&&function(e){document.addEventListener("focusin",function(t){h(t.target,e)}),document.addEventListener("focusout",function(e){h(e.target,0)})}(this.keyboardHeight);for(var e=0,t=Array.from(document.querySelectorAll("ion-input"));e<t.length;e++){var n=t[e];this.registerInput(n)}this.didLoad=!0},e.prototype.onInputDidLoad=function(e){this.didLoad&&this.registerInput(e.detail)},e.prototype.onInputDidUnload=function(e){this.didLoad&&this.unregisterInput(e.detail)},e.prototype.registerInput=function(e){var t=e.querySelector("input"),n=e.closest("ion-scroll"),r=e.closest("ion-content");if(this.hideCaret&&!this.hideCaretMap.has(e)){var i=function(e,t,n){if(!n||!t)return function(){};var r=function(n){s(t)&&a(e,t,n)},i=function(){return a(e,t,!1)},o=function(){return r(!0)},u=function(){return r(!1)};return n&&n.addEventListener("ionScrollStart",o),n&&n.addEventListener("ionScrollEnd",u),t.addEventListener("blur",i),function(){n.removeEventListener("ionScrollStart",o),n.removeEventListener("ionScrollEnd",u),t.addEventListener("ionBlur",i)}}(e,t,n);this.hideCaretMap.set(e,i)}this.scrollAssist&&!this.scrollAssistMap.has(e)&&(i=c(e,t,r,this.keyboardHeight),this.scrollAssistMap.set(e,i))},e.prototype.unregisterInput=function(e){var t;this.hideCaret&&((t=this.hideCaretMap.get(e))&&t(),this.hideCaretMap.delete(e)),this.scrollAssist&&((t=this.scrollAssistMap.get(e))&&t(),this.scrollAssistMap.delete(e))},Object.defineProperty(e,"is",{get:function(){return"ion-input-shims"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{config:{context:"config"}}},enumerable:!0,configurable:!0}),e}(),f=function(){function e(e,t){this.component=e,this.params=t,this.state=1}return e.prototype.init=function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:return this.state=2,this.element?[3,2]:(t=this.component,n=this,[4,function(e,t,n,r,i){if(e)return e.attachViewToDom(t,n,i,r);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");var o="string"==typeof n?document.createElement(n):n;return r&&r.forEach(function(e){return o.classList.add(e)}),i&&Object.assign(o,i),t.appendChild(o),o.componentOnReady?o.componentOnReady():Promise.resolve(o)}(this.delegate,e,t,["ion-page","hide-page"],this.params)]);case 1:n.element=r.sent(),r.label=2;case 2:return[2]}})})},e.prototype._destroy=function(){t.assert(3!==this.state,"view state must be ATTACHED");var e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=null,this.state=3},e}();function v(e,t,n){if(!e)return!1;if(e.component!==t)return!1;var r=e.params,i=null==r,o=null==n;if(i!==o)return!1;if(i&&o)return!0;var a=Object.keys(r),s=Object.keys(n);if(a.length!==s.length)return!1;for(var u=0;u<a.length;u++){var l=a[u];if(r[l]!==n[l])return!1}return!0}function m(e,t){return e?e instanceof f?e:new f(e,t):null}var g=CustomEvent;function y(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return e?[4,e(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function b(e,t){E(t,"ionViewWillLeave"),E(e,"ionViewWillEnter")}function w(e,t){E(e,"ionViewDidEnter"),E(t,"ionViewDidLeave")}function E(e,t){if(e){var n=new g(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}}function T(e){return e&&e.componentOnReady?e.componentOnReady():Promise.resolve()}function S(e){return e?e.componentOnReady?e.componentOnReady():Promise.all(Array.from(e.children).map(S)):Promise.resolve()}var C=500,P="cubic-bezier(0.36,0.66,0.04,1)",k="opacity",A="transform",R="translateX",_="0%",L=.8;function x(e,t,n){var r="rtl"===document.dir,i=r?"-99.5%":"99.5%",o=r?"33%":"-33%",a=n.enteringEl,s=n.leavingEl,u=new e;if(u.addElement(a).duration(n.duration||C).easing(n.easing||P).beforeRemoveClass("hide-page"),s&&t){var l=new e;l.addElement(t).duringAddClass("show-decor"),u.add(l)}var c="back"===n.direction;if(a){var d=a.querySelector(":scope > ion-content"),h=a.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),p=a.querySelector(":scope > ion-header > ion-toolbar"),f=new e;if(d||p||0!==h.length?(f.addElement(d),f.addElement(h)):f.addElement(a.querySelector(":scope > ion-page, :scope > ion-nav, :scope > ion-tabs")),u.add(f),c?f.beforeClearStyles([k]).fromTo(R,o,_,!0).fromTo(k,L,1,!0):f.beforeClearStyles([k]).fromTo(R,i,_,!0),p){var v=new e;v.addElement(p),u.add(v);var m=new e;m.addElement(p.querySelector("ion-title"));var g=new e;g.addElement(p.querySelectorAll("ion-buttons,[menuToggle]"));var y=new e;y.addElement(p.querySelector(".toolbar-background"));var b=new e;if(b.addElement(p.querySelector("ion-back-button")),v.add(m).add(g).add(y).add(b),m.fromTo(k,.01,1,!0),g.fromTo(k,.01,1,!0),c)m.fromTo(R,o,_,!0),b.fromTo(k,.01,1,!0);else{m.fromTo(R,i,_,!0),y.beforeClearStyles([k]).fromTo(k,.01,1,!0),b.fromTo(k,.01,1,!0);var w=new e;w.addElement(p.querySelector("ion-back-button .button-text")).fromTo(R,r?"-100px":"100px","0px"),v.add(w)}}}if(s){var E=new e;E.addElement(s.querySelector(":scope > ion-content")),E.addElement(s.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *")),u.add(E),c?E.beforeClearStyles([k]).fromTo(R,_,r?"-100%":"100%"):E.fromTo(R,_,o,!0).fromTo(k,1,L,!0);var T=s.querySelector(":scope > ion-header > ion-toolbar");if(T){var S=new e;S.addElement(T);var x=new e;x.addElement(T.querySelector("ion-title"));var q=new e;q.addElement(T.querySelectorAll("ion-buttons,[menuToggle]"));var D=new e;D.addElement(T.querySelector(".toolbar-background"));var O=new e;if(O.addElement(T.querySelector("ion-back-button")),S.add(x).add(q).add(O).add(D),u.add(S),O.fromTo(k,.99,0,!0),x.fromTo(k,.99,0,!0),q.fromTo(k,.99,0,!0),c){x.fromTo(R,_,r?"-100%":"100%"),D.beforeClearStyles([k]).fromTo(k,1,.01,!0);var B=new e;B.addElement(T.querySelector("ion-back-button .button-text")),B.fromTo(R,_,(r?-124:124)+"px"),S.add(B)}else x.fromTo(R,_,o).afterClearStyles([A]),O.afterClearStyles([k]),x.afterClearStyles([k]),q.afterClearStyles([k])}}return Promise.resolve(u)}var q="translateY",D="40px",O="0px";function B(e,t,n){var r=n.enteringEl,i=n.leavingEl,o=V(r),a=new e;a.addElement(o).beforeRemoveClass("hide-page");var s="back"===n.direction;if(r){s?a.duration(n.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):a.duration(n.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo(q,D,O,!0).fromTo("opacity",.01,1,!0);var u=o.querySelector("ion-toolbar");if(u){var l=new e;l.addElement(u),a.add(l)}}if(i&&s){a.duration(n.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var c=new e;c.addElement(V(i)).fromTo(q,O,D).fromTo("opacity",1,0),a.add(c)}return Promise.resolve(a)}function V(e){return e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e}var I=function(){function e(){this.init=!1,this.queue=[],this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[]}return e.prototype.rootChanged=function(){this.root&&(this.useRouter||this.setRoot(this.root,this.rootParams))},e.prototype.componentWillLoad=function(){this.useRouter=!!document.querySelector("ion-router")&&!this.el.closest("[no-router]"),void 0===this.swipeBackEnabled&&(this.swipeBackEnabled=this.config.getBoolean("swipeBackEnabled","ios"===this.mode)),void 0===this.animated&&(this.animated=this.config.getBoolean("animate",!0))},e.prototype.componentDidLoad=function(){this.rootChanged()},e.prototype.componentDidUnload=function(){for(var e=0,t=this.views;e<t.length;e++){var n=t[e];E(n.element,"ionViewWillUnload"),n._destroy()}this.sbTrns&&this.sbTrns.destroy(),this.queue=this.views=this.sbTrns=null,this.destroyed=!0},e.prototype.push=function(e,t,n,r){return this.queueTrns({insertStart:-1,insertViews:[{page:e,params:t}],opts:n},r)},e.prototype.insert=function(e,t,n,r,i){return this.queueTrns({insertStart:e,insertViews:[{page:t,params:n}],opts:r},i)},e.prototype.insertPages=function(e,t,n,r){return this.queueTrns({insertStart:e,insertViews:t,opts:n},r)},e.prototype.pop=function(e,t){return this.queueTrns({removeStart:-1,removeCount:1,opts:e},t)},e.prototype.popTo=function(e,t,n){var r={removeStart:-1,removeCount:-1,opts:t};return e instanceof f?(r.removeView=e,r.removeStart=1):"number"==typeof e&&(r.removeStart=e+1),this.queueTrns(r,n)},e.prototype.popToRoot=function(e,t){return this.queueTrns({removeStart:1,removeCount:-1,opts:e},t)},e.prototype.removeIndex=function(e,t,n,r){return void 0===t&&(t=1),this.queueTrns({removeStart:e,removeCount:t,opts:n},r)},e.prototype.setRoot=function(e,t,n,r){return this.setPages([{page:e,params:t}],n,r)},e.prototype.setPages=function(e,t,n){return t||(t={}),!0!==t.animate&&(t.animate=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},n)},e.prototype.setRouteId=function(e,t,n){var r=this,i=this.getActive();if(v(i,e,t))return Promise.resolve({changed:!1,element:i.element});var o,a,s=this.views.find(function(n){return v(n,e,t)}),u=new Promise(function(e){return o=e}),l={updateURL:!1,viewIsReady:function(e){var t,n=new Promise(function(e){return t=e});return o({changed:!0,element:e,markVisible:function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return t(),[4,a];case 1:return e.sent(),[2]}})})}}),n}};return a=s?this.popTo(s,Object.assign({},l,{direction:"back"})):1===n?this.push(e,t,l):-1===n?this.setRoot(e,t,Object.assign({},l,{direction:"back",animate:!0})):this.setRoot(e,t,l),u},e.prototype.getRouteId=function(){var e=this.getActive();return e?{id:e.element.tagName,params:e.params,element:e.element}:void 0},e.prototype.canGoBack=function(e){return void 0===e&&(e=this.getActive()),!(!e||!this.getPrevious(e))},e.prototype.getActive=function(){return this.views[this.views.length-1]},e.prototype.getByIndex=function(e){return this.views[e]},e.prototype.getPrevious=function(e){void 0===e&&(e=this.getActive());var t=this.views,n=t.indexOf(e);return n>0?t[n-1]:void 0},e.prototype.length=function(){return this.views.length},e.prototype.queueTrns=function(e,t){var n=new Promise(function(t,n){e.resolve=t,e.reject=n});return e.done=t,e.insertViews&&0===e.insertViews.length&&(e.insertViews=void 0),this.queue.push(e),this.nextTrns(),n},e.prototype.success=function(e,t){if(null!==this.queue){if(this.init=!0,t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){var n=document.querySelector("ion-router");if(n){var r="back"===e.direction?-1:1;n&&n.navChanged(r)}}}else this.fireError("nav controller was destroyed",t)},e.prototype.failed=function(e,t){null!==this.queue?(this.queue.length=0,this.fireError(e,t)):this.fireError("nav controller was destroyed",t)},e.prototype.fireError=function(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)},e.prototype.nextTrns=function(){if(this.isTransitioning)return!1;var e=this.queue.shift();return!!e&&(this.runTransition(e),!0)},e.prototype.runTransition=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,i;return __generator(this,function(o){switch(o.label){case 0:if(o.trys.push([0,4,,5]),this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e),t=this.getActive(),n=this.getEnteringView(e,t),!t&&!n)throw new Error("no views in the stack to be removed");return e.requiresTransition=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&n!==t,n&&1===n.state?[4,n.init(this.el)]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.postViewInit(n,t,e),[4,this.transition(n,t,e)];case 3:return r=o.sent(),this.success(r,e),this.ionNavDidChange.emit(),[3,5];case 4:return i=o.sent(),this.failed(i,e),[3,5];case 5:return this.isTransitioning=!1,this.nextTrns(),[2]}})})},e.prototype.prepareTI=function(e){var n=this.views.length;if(e.opts=e.opts||{},void 0===e.opts.delegate&&(e.opts.delegate=this.delegate),null!=e.removeView){t.assert(null!=e.removeStart,"removeView needs removeStart"),t.assert(null!=e.removeCount,"removeView needs removeCount");var r=this.views.indexOf(e.removeView);if(r<0)throw new Error("removeView was not found");e.removeStart+=r}null!=e.removeStart&&(e.removeStart<0&&(e.removeStart=n-1),e.removeCount<0&&(e.removeCount=n-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===n),e.insertViews&&((e.insertStart<0||e.insertStart>n)&&(e.insertStart=n),e.enteringRequiresTransition=e.insertStart===n);var i=e.insertViews;if(i){t.assert(i.length>0,"length can not be zero");var o=i.map(function(e){return e instanceof f?e:"page"in e?m(e.page,e.params):m(e,void 0)}).filter(function(e){return null!==e});if(0===o.length)throw new Error("invalid views to insert");for(var a=0,s=o;a<s.length;a++){var u=s[a];u.delegate=e.opts.delegate;var l=u.nav;if(l&&l!==this)throw new Error("inserted view was already inserted");if(3===u.state)throw new Error("inserted view was already destroyed")}e.insertViews=o}},e.prototype.getEnteringView=function(e,t){var n=e.insertViews;if(n)return n[n.length-1];var r=e.removeStart;if(null!=r)for(var i=this.views,o=r+e.removeCount,a=i.length-1;a>=0;a--){var s=i[a];if((a<r||a>=o)&&s!==t)return s}},e.prototype.postViewInit=function(e,n,r){t.assert(n||e,"Both leavingView and enteringView are null"),t.assert(r.resolve,"resolve must be valid"),t.assert(r.reject,"reject must be valid");var i=r.opts,o=r.insertViews,a=r.removeStart,s=r.removeCount,u=void 0;if(null!=a){t.assert(a>=0,"removeStart can not be negative"),t.assert(s>=0,"removeCount can not be negative"),u=[];for(var l=0;l<s;l++)(f=this.views[l+a])&&f!==e&&f!==n&&u.push(f);i.direction=i.direction||"back"}var c=this.views.length+(o?o.length:0)-(s||0);if(t.assert(c>=0,"final balance can not be negative"),0===c)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(o){for(var d=r.insertStart,h=0,p=o;h<p.length;h++){var f=p[h];this.insertViewAt(f,d),d++}r.enteringRequiresTransition&&(i.direction=i.direction||"forward")}if(u&&u.length>0){for(var v=0,m=u;v<m.length;v++)E((f=m[v]).element,"ionViewWillLeave"),E(f.element,"ionViewDidLeave"),E(f.element,"ionViewWillUnload");for(var g=0,y=u;g<y.length;g++)f=y[g],this.destroyView(f)}},e.prototype.transition=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,i,o,a,s,u,l=this;return __generator(this,function(c){switch(c.label){case 0:return n.requiresTransition?(this.sbTrns&&(this.sbTrns.destroy(),this.sbTrns=null),r=this.getAnimationBuilder(n.opts),i=n.opts.progressAnimation?function(e){return l.sbTrns=e}:void 0,o=n.opts,a=e&&e.element,s=t&&t.element,[4,function(e){return function(e){var t=e.enteringEl,n=e.leavingEl;(function(e,t,n){e&&(e.style.zIndex="back"===n?"99":"101"),t&&(t.style.zIndex="100")})(t,n,e.direction),t&&(e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),t.hidden=!1),n&&(n.hidden=!1)}(e),e.enteringEl&&e.leavingEl&&(e.animationBuilder||e.animation)?function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([S(e.enteringEl),S(e.leavingEl)])];case 1:return t.sent(),[4,y(e.viewIsReady,e.enteringEl)];case 2:return t.sent(),[2]}})})}(e)];case 1:return n.sent(),[4,function(e){return e.animation?e.animation:e.animationCtrl.create(e.animationBuilder,e.baseEl,e)}(e)];case 2:return t=n.sent(),b(e.enteringEl,e.leavingEl),[4,function(e,t){var n=t.progressAnimation,r=new Promise(function(t){return e.onFinish(t)});return n?(e.progressStart(),n(e)):e.play(),r}(t,e)];case 3:return n.sent(),t.hasCompleted&&w(e.enteringEl,e.leavingEl),[2,t]}})})}(e):function(e){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:return t=e.enteringEl,n=e.leavingEl,t&&t.classList.remove("hide-page"),n&&n.classList.remove("hide-page"),[4,function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([T(e.enteringEl),T(e.leavingEl)])];case 1:return t.sent(),[4,y(e.viewIsReady,e.enteringEl)];case 2:return t.sent(),[2]}})})}(e)];case 1:return r.sent(),b(t,n),w(t,n),[2,void 0]}})})}(e)}({animationCtrl:this.animationCtrl,animationBuilder:r,animation:void 0,direction:o.direction,duration:o.duration,easing:o.easing,viewIsReady:o.viewIsReady,showGoBack:this.canGoBack(e),progressAnimation:i,baseEl:this.el,enteringEl:a,leavingEl:s})]):[2,Promise.resolve({hasCompleted:!0,requiresTransition:!1})];case 1:return u=c.sent(),[2,this.transitionFinish(u,e,t,n.opts)]}})})},e.prototype.transitionFinish=function(e,t,n,r){var i=!e||e.hasCompleted,o=i?t:n;return this.cleanup(o),e&&e.destroy(),{hasCompleted:i,requiresTransition:!0,enteringView:t,leavingView:n,direction:r.direction}},e.prototype.getAnimationBuilder=function(e){if(0!==e.duration&&!1!==e.animate&&this.init&&!1!==this.animated&&!(this.views.length<=1))return"ios"===(e.animation||this.config.get("pageTransition",this.mode))?x:B},e.prototype.insertViewAt=function(e,n){var r=this.views,i=r.indexOf(e);i>-1?(t.assert(e.nav===this,"view is not part of the nav"),r.splice(n,0,r.splice(i,1)[0])):(t.assert(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))},e.prototype.removeView=function(e){t.assert(2===e.state||3===e.state,"view state should be loaded or destroyed");var n=this.views,r=n.indexOf(e);t.assert(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)},e.prototype.destroyView=function(e){e._destroy(),this.removeView(e)},e.prototype.cleanup=function(e){if(!this.destroyed)for(var t=this.views,n=t.indexOf(e),r=t.length-1;r>=0;r--){var i=t[r];r>n?(E(i.element,"ionViewWillUnload"),this.destroyView(i)):r<n&&(i.element.hidden=!0)}},e.prototype.swipeBackStart=function(){this.isTransitioning||this.queue.length>0||this.queueTrns({removeStart:-1,removeCount:1,opts:{direction:"back",progressAnimation:!0}},void 0)},e.prototype.swipeBackProgress=function(e){if(this.sbTrns){this.isTransitioning=!0;var t=e.deltaX/window.innerWidth;this.sbTrns.progressStep(t)}},e.prototype.swipeBackEnd=function(e){if(this.sbTrns){var t=e.deltaX,n=window.innerWidth,r=t/n,i=e.velocityX,o=n/2,a=i>=0&&(i>.2||e.deltaX>o),s=(a?1-r:r)*n,u=0;if(s>5){var l=s/Math.abs(i);u=Math.min(l,300)}this.sbTrns.progressEnd(a,r,u)}},e.prototype.canSwipeBack=function(){return this.swipeBackEnabled&&!this.isTransitioning&&this.canGoBack()},e.prototype.render=function(){return[this.swipeBackEnabled&&n("ion-gesture",{canStart:this.canSwipeBack.bind(this),onStart:this.swipeBackStart.bind(this),onMove:this.swipeBackProgress.bind(this),onEnd:this.swipeBackEnd.bind(this),gestureName:"goback-swipe",gesturePriority:10,type:"pan",direction:"x",threshold:10,attachTo:"body"}),"ios"===this.mode&&n("div",{class:"nav-decor"}),n("slot",null)]},Object.defineProperty(e,"is",{get:function(){return"ion-nav"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{animated:{type:Boolean,attr:"animated",mutable:!0},animationCtrl:{connect:"ion-animation-controller"},canGoBack:{method:!0},config:{context:"config"},delegate:{type:"Any",attr:"delegate"},dom:{context:"dom"},el:{elementRef:!0},getActive:{method:!0},getByIndex:{method:!0},getPrevious:{method:!0},getRouteId:{method:!0},insert:{method:!0},insertPages:{method:!0},length:{method:!0},pop:{method:!0},popTo:{method:!0},popToRoot:{method:!0},push:{method:!0},removeIndex:{method:!0},root:{type:"Any",attr:"root",watchCallbacks:["rootChanged"]},rootParams:{type:"Any",attr:"root-params"},setPages:{method:!0},setRoot:{method:!0},setRouteId:{method:!0},swipeBackEnabled:{type:Boolean,attr:"swipe-back-enabled",mutable:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"ionNavWillChange",method:"ionNavWillChange",bubbles:!0,cancelable:!0,composed:!0},{name:"ionNavDidChange",method:"ionNavDidChange",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),e}(),j=function(){function e(){this.url=""}return e.prototype.onUpdate=function(e){this.ionRouteDataChanged.emit(e)},e.prototype.onComponentProps=function(e,t){if(e!==t){var n=e?Object.keys(e):[],r=t?Object.keys(t):[];if(n.length===r.length)for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!==t[o])return void this.onUpdate(e)}else this.onUpdate(e)}},e.prototype.componentDidLoad=function(){this.ionRouteDataChanged.emit()},e.prototype.componentDidUnload=function(){this.ionRouteDataChanged.emit()},Object.defineProperty(e,"is",{get:function(){return"ion-route"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{component:{type:String,attr:"component",watchCallbacks:["onUpdate"]},componentProps:{type:"Any",attr:"component-props",watchCallbacks:["onComponentProps"]},url:{type:String,attr:"url",watchCallbacks:["onUpdate"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"ionRouteDataChanged",method:"ionRouteDataChanged",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),e}();function N(e){return"/"+e.filter(function(e){return e.length>0}).join("/")}function M(e){if(null==e)return[""];var t=e.split("/").map(function(e){return e.trim()}).filter(function(e){return e.length>0});return 0===t.length?[""]:t}function U(e){return Array.from(e.children).filter(function(e){return"ION-ROUTE-REDIRECT"===e.tagName}).map(function(e){var t=H(e,"to");return{from:M(H(e,"from")),to:null==t?void 0:M(t)}})}function W(e,t){return void 0===t&&(t=e),Array.from(t.children).filter(function(e){return"ION-ROUTE"===e.tagName&&e.component}).map(function(t){return{path:M(H(t,"url")),id:H(t,"component").toLowerCase(),params:t.componentProps,children:W(e,t)}})}function H(e,t){return t in e?e[t]:e.hasAttribute(t)?e.getAttribute(t):void 0}function z(e){for(var t=[],n=0,r=e;n<r.length;n++)F([],t,r[n]);return t}function F(e,t,n){var r=e.slice();if(r.push({id:n.id,path:n.path,params:n.params}),0!==n.children.length)for(var i=0,o=n.children;i<o.length;i++)F(r,t,o[i]);else t.push(r)}var G=":not([no-router]) ion-nav,:not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet";function X(e){return e?e.matches(G)?e:e.querySelector(G):null}function Y(e,t){var n=t.from;if(void 0===t.to)return!1;if(n.length>e.length)return!1;for(var r=0;r<n.length;r++){var i=n[r];if("*"===i)return!0;if(i!==e[r])return!1}return n.length===e.length}function $(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n&&e[r].toLowerCase()===t[r].id;r++);return r}function J(e,t){for(var n=new Z(e),r=!1,i=void 0,o=0;o<t.length;o++){var a=t[o].path;if(""===a[0])r=!0;else{for(var s=0,u=a;s<u.length;s++){var l=u[s],c=n.next();if(":"===l[0]){if(""===c)return null;((i=i||[])[o]||(i[o]={}))[l.slice(1)]=c}else if(c!==l)return null}r=!1}}return r&&r!==(""===n.next())?null:i?t.map(function(e,t){return{id:e.id,path:e.path,params:K(e.params,i[t])}}):t}function K(e,t){return!e&&t?t:e&&!t?e:e&&t?Object.assign({},e,t):void 0}function Q(e){for(var t=1,n=1,r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].path;o<a.length;o++){var s=a[o];":"===s[0]?t+=Math.pow(1,n):""!==s&&(t+=Math.pow(2,n)),n++}return t}var Z=function(){function e(e){this.path=e.slice()}return e.prototype.next=function(){return this.path.length>0?this.path.shift():""},e}(),ee=function(){function e(){this.previousPath=null,this.busy=!1,this.init=!1,this.state=0,this.lastState=0,this.base="",this.useHash=!0}return e.prototype.componentDidLoad=function(){var e=this;this.init=!0;var t=W(this.el);this.routes=z(t),this.redirects=U(this.el),requestAnimationFrame(function(){e.historyDirection(),e.writeNavStateRoot(e.getPath(),0)})},e.prototype.onRedirectChanged=function(e){this.init&&(e.target,this.redirects=U(this.el))},e.prototype.onRoutesChanged=function(e){var t=this;this.init&&(e.target,e.detail,this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout(function(){var e=W(t.el);t.routes=z(e),t.writeNavStateRoot(t.getPath(),0),t.timer=void 0},100))},e.prototype.onPopState=function(){var e=this.historyDirection(),t=this.getPath();return this.writeNavStateRoot(t,e)},e.prototype.historyDirection=function(){null===window.history.state&&(this.state++,window.history.replaceState(this.state,document.title,document.location.href));var e=window.history.state,t=this.lastState;return this.lastState=e,e>t?1:e<t?-1:0},e.prototype.navChanged=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return __generator(this,function(a){switch(a.label){case 0:return this.busy?[2,!1]:(t=function(e){for(var t,n=[],r=document.body;t=X(r);){var i=t.getRouteId();if(!i)break;r=i.element,i.element=void 0,n.push(i)}return{ids:n,outlet:t}}(),n=t.ids,r=t.outlet,(i=function(e,t){for(var n=null,r=0,i=e.map(function(e){return e.id}),o=0,a=t;o<a.length;o++){var s=a[o],u=$(i,s);u>r&&(n=s,r=u)}return n?n.map(function(t,n){return{id:t.id,path:t.path,params:K(t.params,e[n]&&e[n].params)}}):null}(n,this.routes))?(o=function(e){for(var t=[],n=0,r=e;n<r.length;n++)for(var i=r[n],o=0,a=i.path;o<a.length;o++){var s=a[o];if(":"===s[0]){var u=i.params&&i.params[s.slice(1)];if(!u)return null;t.push(u)}else""!==s&&t.push(s)}return t}(i))?(this.setPath(o,e),r?[4,this.writeNavState(r,i,0,n.length)]:[3,2]):(console.warn("[ion-router] router could not match path because some required param is missing"),[2,!1]):(console.warn("[ion-router] no matching URL for ",n.map(function(e){return e.id})),[2,!1]));case 1:a.sent(),a.label=2;case 2:return this.emitRouteChange(o,null),[2,!0]}})})},e.prototype.push=function(e,t){void 0===t&&(t=1);var n=M(e);return this.setPath(n,t),this.writeNavStateRoot(n,t)},e.prototype.writeNavStateRoot=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,r,i,o;return __generator(this,function(a){switch(a.label){case 0:return this.busy?[2,!1]:(n=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(Y(e,i))return i}return null}(e,this.redirects),r=null,n&&(this.setPath(n.to,t),r=n.from,e=n.to),i=function(e,t){for(var n=null,r=0,i=0,o=t;i<o.length;i++){var a=J(e,o[i]);if(null!==a){var s=Q(a);s>r&&(r=s,n=a)}}return n}(e,this.routes),[4,this.writeNavState(document.body,i,t)]);case 1:return(o=a.sent())&&this.emitRouteChange(e,r),[2,o]}})})},e.prototype.writeNavState=function(e,t,n,r){return void 0===r&&(r=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(o){switch(o.label){case 0:return this.busy?[2,!1]:(this.busy=!0,[4,function e(t,n,r,i,o){return void 0===o&&(o=!1),__awaiter(this,void 0,void 0,function(){var a,s,u,l;return __generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),a=X(t),!n||i>=n.length||!a?[2,o]:[4,a.componentOnReady()];case 1:return c.sent(),s=n[i],[4,a.setRouteId(s.id,s.params,r)];case 2:return(u=c.sent()).changed&&(r=0,o=!0),[4,e(u.element,n,r,i+1,o)];case 3:return o=c.sent(),u.markVisible?[4,u.markVisible()]:[3,5];case 4:c.sent(),c.label=5;case 5:return[2,o];case 6:return l=c.sent(),console.error(l),[2,!1];case 7:return[2]}})})}(e,t,n,r)]);case 1:return i=o.sent(),this.busy=!1,[2,i]}})})},e.prototype.setPath=function(e,t){this.state++,function(e,t,n,r,i,o){var a=N(r=[t].concat(r));n&&(a="#"+a),1===i?e.pushState(o,"",a):e.replaceState(o,"",a)}(window.history,this.base,this.useHash,e,t,this.state)},e.prototype.getPath=function(){return e=window.location,t=this.base,(n=this.useHash?e.hash.substr(1):e.pathname).startsWith(t)?M(n.slice(t.length)):null;var e,t,n},e.prototype.emitRouteChange=function(e,t){var n=this.previousPath,r=t?N(t):null,i=N(e);this.previousPath=i,this.ionRouteChanged.emit({from:n,redirectedFrom:r,to:i})},Object.defineProperty(e,"is",{get:function(){return"ion-router"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{base:{type:String,attr:"base"},config:{context:"config"},dom:{context:"dom"},el:{elementRef:!0},navChanged:{method:!0},push:{method:!0},useHash:{type:Boolean,attr:"use-hash"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"ionRouteChanged",method:"ionRouteChanged",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),e}(),te=function(){function e(){this.duration=300}return e.prototype.onStatusTap=function(){var e=this;this.dom.read(function(){var t=window.innerWidth,n=window.innerWidth,r=document.elementFromPoint(t/2,n/2);if(!r)return null;var i=r.closest("ion-scroll");i&&i.componentOnReady().then(function(){e.dom.write(function(){i.scrollToTop(e.duration)})})})},Object.defineProperty(e,"is",{get:function(){return"ion-status-tap"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{dom:{context:"dom"},duration:{type:Number,attr:"duration"}}},enumerable:!0,configurable:!0}),e}(),ne=function(){function e(){this.lastTouch=10*-ae,this.lastActivated=0,this.cancelled=!1,this.clearDefers=new WeakMap}return e.prototype.onBodyClick=function(e){this.cancelled&&(e.preventDefault(),e.stopPropagation())},e.prototype.onTouchStart=function(e){this.lastTouch=t.now(e),this.pointerDown(e)},e.prototype.onTouchEnd=function(e){this.lastTouch=t.now(e),this.pointerUp(e)},e.prototype.onMouseDown=function(e){var n=t.now(e)-ae;this.lastTouch<n&&this.pointerDown(e)},e.prototype.onMouseUp=function(e){var n=t.now(e)-ae;this.lastTouch<n&&this.pointerUp(e)},e.prototype.cancelActive=function(){clearTimeout(this.activeDefer),this.activatableEle&&(this.removeActivated(!1),this.activatableEle=null),this.cancelled=!0},e.prototype.pointerDown=function(e){this.activatableEle||(this.cancelled=!1,this.setActivatedElement(e.target.closest("a,button,[tappable]"),e))},e.prototype.pointerUp=function(e){this.setActivatedElement(null,e),this.cancelled&&e.cancelable&&e.preventDefault()},e.prototype.setActivatedElement=function(e,n){var r=this,i=this.activatableEle;if(!e||e!==i){clearTimeout(this.activeDefer),this.activeDefer=null;var o=t.pointerCoord(n),a=o.x,s=o.y;if(i){if(this.clearDefers.has(i))throw new Error("internal error");i.classList.contains(re)||this.addActivated(i,a,s),this.removeActivated(!0)}if(e){var u=this.clearDefers.get(e);u&&(clearTimeout(u),this.clearDefers.delete(e)),e.classList.remove(re),this.activeDefer=setTimeout(function(){r.addActivated(e,a,s),r.activeDefer=null},ie)}this.activatableEle=e}},e.prototype.addActivated=function(e,t,n){this.lastActivated=Date.now(),e.classList.add(re);var r=new CustomEvent("ionActivated",{bubbles:!1,detail:{x:t,y:n}});e.dispatchEvent(r)},e.prototype.removeActivated=function(e){var t=this,n=this.activatableEle;if(n){var r=oe-Date.now()+this.lastActivated;if(e&&r>0){var i=setTimeout(function(){n.classList.remove(re),t.clearDefers.delete(n)},oe);this.clearDefers.set(n,i)}else n.classList.remove(re)}},Object.defineProperty(e,"is",{get:function(){return"ion-tap-click"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},enableListener:{context:"enableListener"},isServer:{context:"isServer"}}},enumerable:!0,configurable:!0}),e}(),re="activated",ie=200,oe=200,ae=2500;e.MyApp=r,e.IonApp=i,e.IonInputShims=p,e.IonNav=I,e.IonRoute=j,e.IonRouter=ee,e.IonStatusTap=te,e.IonTapClick=ne,Object.defineProperty(e,"__esModule",{value:!0})});